define(["appStarter"],function(){"use strict";var app=angular.module("msApp",["msRoute","msAppController","msSeguranca","msNotify","msUtils","ui.utils","timer","ngSanitize"]),appBaseUrl="undefined"!=typeof appConfig.appBaseUrl?appConfig.appBaseUrl:"app",lazyLoadingConfig=function(app){app.config(["$controllerProvider","$provide","$compileProvider",function($controllerProvider,$provide,$compileProvider){app._controller=app.controller,app._service=app.service,app._directive=app.directive,app._factory=app.factory,app._provider=app.provider,app._value=app.value,app.controller=function(name,constructor){return $controllerProvider.register(name,constructor),this},app.service=function(name,constructor){return $provide.service(name,constructor),this},app.factory=function(name,constructor){return $provide.factory(name,constructor),this},app._directive=function(name,constructor){return $compileProvider.directive(name,constructor),this},app.value=function(name,value){return $provide.value(name,value),this}}])};return app.createModule=function(name,dependencies){var module=angular.module(name,dependencies);return lazyLoadingConfig(module),require(["domReady!"],function(document){angular.element(document).ready(function(){angular.bootstrap(document,[name])})}),module},app.config(["$httpProvider","$provide","$translateProvider",function($httpProvider,$provide,$translateProvider){$provide.factory("msHttpInterceptor",["$q","$injector","$rootScope","msSegurancaService",function($q,$injector,$rootScope,msSegurancaService){var $http,msAutenticacaoService,$state;return{request:function(config){return $http=$http||$injector.get("$http"),$rootScope.limite=msSegurancaService.contador(),config||$q.when(config)},requestError:function(rejection){return $q.reject(rejection)},response:function(response){return $http=$http||$injector.get("$http"),response||$q.when(response)},responseError:function(rejection){return $http=$http||$injector.get("$http"),404==rejection.status&&rejection.headers("Content-Type").match("text/html")&&(rejection.data={mensagens:[{texto:""}]},rejection.data.mensagens[0].texto="undefined"!=typeof appConfig.erros&&"undefined"!=typeof appConfig.erros._404_?appConfig.erros._404_:"O recurso "+rejection.config.url+" não foi encontrado."),500==rejection.status&&(rejection.data={mensagens:[{texto:""}]},rejection.data.mensagens[0].texto="undefined"!=typeof appConfig.erros&&"undefined"!=typeof appConfig.erros._500_?appConfig.erros._500_:"Ocorreu um erro no servidor."),401==rejection.status&&(msAutenticacaoService=msAutenticacaoService||$injector.get("msAutenticacaoService"),$state=$state||$injector.get("$state"),msAutenticacaoService.sair().then(function(){$rootScope.$msNotify.info("Seu acesso expirou"),$state.go(appConfig.defaultRoute)})),403==rejection.status&&(rejection.data={mensagens:[{texto:""}]},rejection.data.mensagens[0].texto="undefined"!=typeof appConfig.erros&&"undefined"!=typeof appConfig.erros._403_?appConfig.erros._403_:"Proibido."),$q.reject(rejection)}}}]),$httpProvider.interceptors.push("msHttpInterceptor");var bust=(new Date).getTime();$translateProvider.useLoader("$translatePartialLoader",{urlTemplate:appBaseUrl+"/pages/{part}/nls/{lang}.json?bust="+bust}),$translateProvider.preferredLanguage("pt_BR")}]),app.filter("msHifenizar",function(){return function(palavra){return retira_acentos(palavra.toLowerCase()).replace(/\s/g,"-")}}).filter("msJoin",function(){return function(input,delimiter){return(input||[]).join(delimiter||",")}}).filter("msRemoverAcentuacao",function(){return function(palavra){for(com_acento="áàãâäéèêëíìîïóòõôöúùûüçÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÖÔÚÙÛÜÇ",sem_acento="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC",nova="",i=0;i<palavra.length;i++)nova+=com_acento.search(palavra.substr(i,1))>=0?sem_acento.substr(com_acento.search(palavra.substr(i,1)),1):palavra.substr(i,1);return nova}}),app});