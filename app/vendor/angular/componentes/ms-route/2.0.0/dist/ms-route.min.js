!function(){"use strict";var msRoute=angular.module("msRoute",["pascalprecht.translate","ui.router"]);return msRoute.run(["$rootScope","$state","$translate","$translatePartialLoader",function($rootScope,$state,$translate,$translatePartialLoader){$rootScope.reloadState=function(state){$state.go(state,{},{reload:!0})},$rootScope.$on("$stateChangeSuccess",function(event,toState){$translatePartialLoader.isPartAvailable(toState.module)||$translatePartialLoader.addPart(toState.module),$translate.refresh(),$state.reload(),$rootScope.$msNotify.close()}),$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState){fromState.module&&$translatePartialLoader.isPartAvailable(fromState.module)&&$translatePartialLoader.deletePart(fromState.module,!0),$rootScope.$msNotify.loading()})}]),msRoute.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){msRoute.$stateProvider=$stateProvider,msRoute.$urlRouterProvider=$urlRouterProvider}]),msRoute.createRoute=function(routes){try{var elem=angular.element("body"),injector=elem.injector(),myService=injector.get("msRouteService");myService.create(routes),elem.scope().$apply()}catch(e){console.log(e)}},msRoute}(),!function(){"use strict";var msRoute=angular.module("msRoute");return msRoute.factory("msRouteService",["$log","$http","$q","$state","$rootScope","msSegurancaService",function($log,$http,$q,$state,$rootScope,msSegurancaService){var appBaseUrl="undefined"!=typeof appConfig.appBaseUrl?appConfig.appBaseUrl:"app",setState=function(content){angular.forEach(content,function(object){try{object.children&&setState(object.children),object.inner&&setState(object.inner);var tpl=object.view?object.view:retira_acentos(object.text.toLowerCase()).replace(/\s/g,"-"),url=retira_acentos(object.text.toLowerCase()).replace(/\s/g,"-"),state=url,textClean=retira_acentos(object.text),tpl=object.view?object.view:retira_acentos(object.text.toLowerCase()).replace(/\s/g,"-"),url=textClean.toLowerCase().replace(/\s/g,"-"),state=url,wordsControl=object.module?object.module.split("-"):new Array,secondName="";if(wordsControl.length>1)for(var i=1;i<wordsControl.length;i++)secondName+=wordsControl[i].charAt(0).toUpperCase()+wordsControl[i].slice(1);var control=wordsControl.length?wordsControl[0].toLowerCase()+secondName+"Controller":null;object.state&&(object.state.url&&(url=object.state.url),object.state.name&&(state=object.state.name));var bootstrapJs=object.resolve?object.resolve:object.module,bust=(new Date).getTime();$state.get(state)||msRoute.$stateProvider.state(state,{url:"/"+url,templateUrl:appBaseUrl+"/pages/"+object.module+"/views/"+tpl+".tpl.html?t="+bust,resolve:resolve(["pages/"+object.module+"/"+bootstrapJs]),controller:object.controller?object.controller:control,breadcrumb:object.breadcrumb?object.breadcrumb:object.text,roles:object.roles?object.roles:!1,module:object.module,onEnter:object.onEnter?object.onEnter():function(){}})}catch(e){$log.error(e)}})},create=function(){var deferred=$q.defer(),defaultRoute="login";return angular.forEach(arguments,function(content){defaultRoute=msSegurancaService.isUsuarioAutenticado()?"undefined"!=typeof appConfig.login.sucesso?appConfig.login.sucesso:"login":"undefined"!=typeof appConfig.defaultRoute?appConfig.defaultRoute:"home",msRoute.$urlRouterProvider.otherwise(defaultRoute),"string"==typeof content?$http.get(content).then(function(success){setState(success.data),deferred.resolve(success.data)},function(reason){$rootScope.$msAlert.error("Erro na criação de rotas : "+reason)}):(setState(content),deferred.resolve(content))}),deferred.promise};return{create:create}}]),msRoute}();